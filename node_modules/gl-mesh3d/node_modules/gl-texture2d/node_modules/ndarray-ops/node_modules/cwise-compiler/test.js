"use strict"
var ndarray = require('ndarray')
var compile = require('./compiler.js')
var parse = require('../cwise-parser/index.js')

console.log(parse(function(i,a) {
  a += i
}))

console.log(compile({
  args: ["index", "array"],
  pre: parse(function(){}),
  post: parse(function(){}),
  body: parse(function(i,a) {
    a = i
  })
}).toString())

compile({
  args: ["index", "array"],
  pre: parse(function(){}),
  post: parse(function(){}),
  body: parse(function(i,a) {
    a = i
  })
})(ndarray([1,2,3,4,5,6],[2,3]))

compile({
  args: ["index", "array", "array"],
  pre: parse(function(){}),
  post: parse(function(){}),
  body: parse(function(i,a,b) {
    a = i + b
  })
})(ndarray([1,2,3,4,5,6],[2,3],[1,3]),ndarray([1,2,3,4,5,6],[2,3],[3,1]))
